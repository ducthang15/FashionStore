@model IEnumerable<FashionStore.Repository.Models.Contact>
@{
	ViewData["Title"] = "Hộp thư liên hệ";
}

<div class="card shadow border-0 mt-3">
	<div class="card-header bg-white py-3">
		<h5 class="mb-0 fw-bold text-primary"><i class="fa-solid fa-envelope-open-text"></i> Hộp thư khách hàng</h5>
	</div>
	<div class="card-body p-0">
		<table class="table table-hover align-middle mb-0">
			<thead class="table-light">
				<tr>
					<th class="ps-4">Ngày gửi</th>
					<th>Người gửi</th>
					<th>Nội dung</th>
					<th class="text-end pe-4">Thao tác</th>
				</tr>
			</thead>
			<tbody>
				@foreach (var item in Model)
				{
						<tr>
							<td class="ps-4 text-muted small">
							@item.CreatedAt?.ToString("dd/MM/yyyy HH:mm")
							</td>
							<td>
								<div class="fw-bold">@item.FullName</div>
								<div class="small text-primary">@item.Phone</div>
								<div class="small text-muted">@item.Email</div>
							</td>
							<td style="max-width: 400px;">
								<p class="text-secondary mb-0 text-truncate">@item.Message</p>
							</td>
							<td class="text-end pe-4">
								<a href="tel:@item.Phone" class="btn btn-sm btn-success me-1" title="Gọi ngay">
									<i class="fa-solid fa-phone"></i>
								</a>
								<form asp-action="Delete" asp-route-id="@item.ContactId" method="post" class="d-inline" onsubmit="return confirm('Xóa tin nhắn này?');">
									<button class="btn btn-sm btn-outline-danger" title="Xóa">
										<i class="fa-solid fa-trash"></i>
									</button>
								</form>
							</td>
						</tr>
				}
			</tbody>
		</table>
	</div>
</div>